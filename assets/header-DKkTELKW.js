(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function i(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(o){if(o.ep)return;o.ep=!0;const r=i(o);fetch(o.href,r)}})();const m={TMDB_API_KEY:"532c164e7aaa985e6a97f7fc762d2aea",TMDB_BASE_URL:"https://api.themoviedb.org/3",TMDB_IMAGE_BASE_URL:"https://image.tmdb.org/t/p"};console.log("YENİ MODAL.JS YÜKLENDİ - "+new Date().toLocaleTimeString());let d,u,l;function f(){return new Promise(e=>{const n=()=>{d=document.getElementById("movie-modal"),u=document.getElementById("modal-close-btn"),l=document.getElementById("modal-library-btn"),d&&u&&l?(g(),e()):requestAnimationFrame(n)};n()})}function g(){u.addEventListener("click",p),d.addEventListener("click",e=>{e.target.classList.contains("modal-backdrop")&&p()})}function p(){d.classList.remove("show"),document.body.style.overflow="";const e=document.getElementById("modal-trailer-wrapper"),n=document.getElementById("modal-trailer-iframe");e&&(e.style.display="none"),n&&(n.src="")}async function h(e){console.log("openMovieModal çağrıldı, ID:",e),await f();try{const[n,i]=await Promise.all([axios.get(`${m.TMDB_BASE_URL}/movie/${e}?api_key=${m.TMDB_API_KEY}`),axios.get(`${m.TMDB_BASE_URL}/movie/${e}/videos?api_key=${m.TMDB_API_KEY}`)]),t=n.data,o=i.data.results.find(c=>c.site==="YouTube"&&c.type==="Trailer");document.getElementById("modal-poster").src=t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:"./img/no-poster.jpg",document.getElementById("modal-title").textContent=t.title,document.getElementById("modal-rating").textContent=`${t.vote_average.toFixed(1)} / ${t.vote_count}`,document.getElementById("modal-popularity").textContent=Math.round(t.popularity);const r=document.getElementById("modal-genre");if(t.genres&&t.genres.length>0){const c=t.genres.map(y=>y.name).join(", ");r.textContent=c}else r.textContent="—";document.getElementById("modal-overview").textContent=t.overview||"Açıklama yok.";const a=document.getElementById("modal-trailer-wrapper"),s=document.getElementById("modal-trailer-iframe");o&&a&&s?(a.style.display="block",s.src=`https://www.youtube.com/embed/${o.key}?autoplay=1&rel=0`):a&&(a.style.display="none"),l.textContent="Add to my library",l.disabled=!1,l.onclick=()=>v(t),d.classList.add("show"),document.body.style.overflow="hidden"}catch(n){console.error("Modal hatası:",n),alert("Movie details could not be loaded!")}}function v(e){const n=JSON.parse(localStorage.getItem("myMovieLibrary")||"[]");if(n.some(i=>i.id===e.id)){alert("This movie is already in your library!");return}n.push(e),localStorage.setItem("myMovieLibrary",JSON.stringify(n)),alert(`${e.title} added to your library.`),l.textContent="Added",l.disabled=!0}window.setActiveNavLink=function(){setTimeout(()=>{const e=location.pathname.split("/").pop()||"index.html";document.querySelectorAll("a[href]").forEach(i=>{let t=i.getAttribute("href")||"";if(t=t.replace(/^\.?\//,""),t===e||(e==="index.html"||e===""||e==="home.html")&&(t==="home.html"||t==="index.html")){i.classList.add("active");const s=i.closest("li");s&&s.classList.add("active")}else{i.classList.remove("active");const s=i.closest("li");s&&s.classList.remove("active")}})},100)};document.addEventListener("DOMContentLoaded",window.setActiveNavLink);document.addEventListener("load:partial",window.setActiveNavLink);document.addEventListener("DOMContentLoaded",()=>{const e=setInterval(()=>{document.querySelector(".header-nav-link")&&(window.setActiveNavLink(),clearInterval(e))},200)});export{m as c,h as o};
//# sourceMappingURL=header-DKkTELKW.js.map
