(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(t){if(t.ep)return;t.ep=!0;const e=i(t);fetch(t.href,e)}})();const l={TMDB_API_KEY:"532c164e7aaa985e6a97f7fc762d2aea",TMDB_BASE_URL:"https://api.themoviedb.org/3",TMDB_IMAGE_BASE_URL:"https://image.tmdb.org/t/p"};let a={};const g=l.TMDB_API_KEY,p=l.TMDB_BASE_URL,E=l.TMDB_IMAGE_BASE_URL;async function A(){if(!(Object.keys(a).length>0))try{(await axios.get(`${p}/genre/movie/list?api_key=${g}&language=tr-TR`)).data.genres.forEach(n=>{a[n.id]=n.name}),console.log("Türler yüklendi:",a)}catch(s){console.error("Türler yüklenemedi",s)}}async function M(){try{return(await axios.get(`${p}/trending/movie/week?api_key=${g}&language=tr-TR`)).data.results}catch(s){return console.error("API hatası:",s),[]}}function S(s){const n=s/2,i=Math.floor(n),r=n-i>=.5?1:0,t=5-i-r;let e="";for(let o=0;o<i;o++)e+=`<li>
        <svg width="14" height="14">
            <use href="./img/sprite.svg#full-star"></use>
        </svg>
    </li>`;r&&(e+='<li><svg width="14" height="14"><use href="./img/sprite.svg#half-star"></use></svg></li>');for(let o=0;o<t;o++)e+='<li><svg width="14" height="14"><use href="./img/sprite.svg#empty-star"></use></svg></li>';return e}async function v(){console.log("Anasayfa yüklendi, API'den veri çekiliyor..."),await A();const s=await M();if(s.length===0)return;const n=s.slice(0,3),i=document.querySelectorAll(".home-movie-item");n.forEach((r,t)=>{const e=i[t];if(!e)return;const o=e.querySelector(".card-title");o&&(o.textContent=r.title||r.name);const y=r.release_date?r.release_date.split("-")[0]:"—",u=e.querySelector(".card-year");u&&(u.textContent=y);const h=r.poster_path?`${E}/w342${r.poster_path}`:"./img/no-poster.jpg",c=e.querySelector(".card-image");c&&(c.src=h,c.alt=`${r.title} poster`);const m=r.genre_ids.slice(0,2).map(_=>a[_]||"Bilinmiyor").join(", "),d=e.querySelector(".card-genre");d&&(d.textContent=m||"Tür yok");const f=e.querySelector(".card-rating");f&&(f.innerHTML=S(r.vote_average))}),console.log("3 kart başarıyla dolduruldu!")}document.addEventListener("DOMContentLoaded",v);
//# sourceMappingURL=main-CPLaSqab.js.map
