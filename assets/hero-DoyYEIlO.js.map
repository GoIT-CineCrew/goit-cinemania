{"version":3,"file":"hero-DoyYEIlO.js","sources":["../../src/config.js","../../src/js/hero.js"],"sourcesContent":["const config = {\n  TMDB_API_KEY: '532c164e7aaa985e6a97f7fc762d2aea',\n  TMDB_BASE_URL: 'https://api.themoviedb.org/3',\n  TMDB_IMAGE_BASE_URL: 'https://image.tmdb.org/t/p',\n};\n\nexport default config;\n","import config from '../config.js';\n\nconst API_KEY = config.TMDB_API_KEY;\nconst BASE_URL = config.TMDB_BASE_URL;\n\nasync function showRandomHeroMovie() {\n  try {\n    const res = await fetch(\n      `${BASE_URL}/trending/movie/week?api_key=${API_KEY}`\n    );\n    if (!res.ok) throw new Error(`API Hatası: ${res.status} ${res.statusText}`);\n\n    const data = await res.json();\n    const movies = data.results;\n    if (!movies || movies.length === 0) throw new Error('Film gelmedi');\n\n    const movie = movies[Math.floor(Math.random() * movies.length)];\n\n    const videoRes = await fetch(\n      `${BASE_URL}/movie/${movie.id}/videos?api_key=${API_KEY}`\n    );\n    const videoData = await videoRes.json();\n    const trailer = videoData.results?.find(\n      v => v.type === 'Trailer' && v.site === 'YouTube'\n    );\n\n    // DOM\n    document.getElementById('hero-default').style.display = 'none';\n    const heroRandom = document.getElementById('hero-random-movie');\n    heroRandom.style.display = 'flex';\n\n    if (movie.backdrop_path) {\n      heroRandom.style.backgroundImage = `url(https://image.tmdb.org/t/p/original${movie.backdrop_path})`;\n    }\n\n    heroRandom.querySelector('.hero-movie-title').textContent = movie.title;\n    heroRandom.querySelector('.hero-movie-details').textContent =\n      movie.overview || 'Açıklama yok.';\n\n    const poster = document.getElementById('hero-movie-poster');\n    poster.src = movie.poster_path\n      ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n      : 'https://via.placeholder.com/500x750?text=No+Image';\n\n    // Yıldızlar\n    const starsContainer = heroRandom.querySelector('.hero-movie-stars');\n    starsContainer.innerHTML = '';\n\n    const rating = Math.round(movie.vote_average || 0);\n    const fullStars = Math.floor(rating / 2);\n    const halfStars = rating % 2 ? 1 : 0;\n    const emptyStars = 5 - fullStars - halfStars;\n\n    function getStarSVG(type) {\n      return `<svg class=\"star-icon\" width=\"14\" height=\"14\"><use href=\"#${type}-star\"></use></svg>`;\n    }\n\n    for (let i = 0; i < fullStars; i++)\n      starsContainer.innerHTML += getStarSVG('full');\n    for (let i = 0; i < halfStars; i++)\n      starsContainer.innerHTML += getStarSVG('half');\n    for (let i = 0; i < emptyStars; i++)\n      starsContainer.innerHTML += getStarSVG('empty');\n\n    // Trailer\n    const trailerBtn = document.getElementById('watch-trailer-btn');\n    if (trailerBtn && trailer) {\n      trailerBtn.onclick = () => {\n        const overlay = document.createElement('div');\n        overlay.className = 'movie-popup-overlay';\n        overlay.innerHTML = `\n          <div class=\"popup-video-wrapper\">\n            <iframe src=\"https://www.youtube.com/embed/${trailer.key}?autoplay=1\" allow=\"autoplay\" allowfullscreen></iframe>\n          </div>`;\n        document.body.appendChild(overlay);\n        overlay.onclick = () => overlay.remove();\n      };\n    }\n\n    document.getElementById('more-details-btn').onclick = () => {\n      if (typeof deleteHeroTrendsPopup === 'function')\n        deleteHeroTrendsPopup(movie);\n    };\n  } catch (err) {\n    console.error('Hero yüklenemedi:', err);\n    document.getElementById('hero-default').style.display = 'block';\n    document.getElementById('hero-random-movie').style.display = 'none';\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', showRandomHeroMovie);\n"],"names":["config","API_KEY","BASE_URL","showRandomHeroMovie","getStarSVG","type","res","movies","movie","trailer","_a","v","heroRandom","poster","starsContainer","rating","fullStars","halfStars","emptyStars","i","trailerBtn","overlay","err"],"mappings":"ssBAAK,MAACA,EAAS,CACb,aAAc,mCACd,cAAe,+BACf,oBAAqB,4BACvB,ECFMC,EAAUD,EAAO,aACjBE,EAAWF,EAAO,cAExB,eAAeG,GAAsB,OACnC,GAAI,CA+CF,IAASC,EAAT,SAAoBC,EAAM,CACxB,MAAO,6DAA6DA,CAAI,qBACzE,EAhDD,MAAMC,EAAM,MAAM,MAChB,GAAGJ,CAAQ,gCAAgCD,CAAO,EACxD,EACI,GAAI,CAACK,EAAI,GAAI,MAAM,IAAI,MAAM,eAAeA,EAAI,MAAM,IAAIA,EAAI,UAAU,EAAE,EAG1E,MAAMC,GADO,MAAMD,EAAI,QACH,QACpB,GAAI,CAACC,GAAUA,EAAO,SAAW,EAAG,MAAM,IAAI,MAAM,cAAc,EAElE,MAAMC,EAAQD,EAAO,KAAK,MAAM,KAAK,SAAWA,EAAO,MAAM,CAAC,EAMxDE,GAAUC,GADE,MAHD,MAAM,MACrB,GAAGR,CAAQ,UAAUM,EAAM,EAAE,mBAAmBP,CAAO,EAC7D,GACqC,QACP,UAAV,YAAAS,EAAmB,KACjCC,GAAKA,EAAE,OAAS,WAAaA,EAAE,OAAS,WAI1C,SAAS,eAAe,cAAc,EAAE,MAAM,QAAU,OACxD,MAAMC,EAAa,SAAS,eAAe,mBAAmB,EAC9DA,EAAW,MAAM,QAAU,OAEvBJ,EAAM,gBACRI,EAAW,MAAM,gBAAkB,0CAA0CJ,EAAM,aAAa,KAGlGI,EAAW,cAAc,mBAAmB,EAAE,YAAcJ,EAAM,MAClEI,EAAW,cAAc,qBAAqB,EAAE,YAC9CJ,EAAM,UAAY,gBAEpB,MAAMK,EAAS,SAAS,eAAe,mBAAmB,EAC1DA,EAAO,IAAML,EAAM,YACf,kCAAkCA,EAAM,WAAW,GACnD,oDAGJ,MAAMM,EAAiBF,EAAW,cAAc,mBAAmB,EACnEE,EAAe,UAAY,GAE3B,MAAMC,EAAS,KAAK,MAAMP,EAAM,cAAgB,CAAC,EAC3CQ,EAAY,KAAK,MAAMD,EAAS,CAAC,EACjCE,EAAYF,EAAS,EAAI,EAAI,EAC7BG,EAAa,EAAIF,EAAYC,EAMnC,QAASE,EAAI,EAAGA,EAAIH,EAAWG,IAC7BL,EAAe,WAAaV,EAAW,MAAM,EAC/C,QAASe,EAAI,EAAGA,EAAIF,EAAWE,IAC7BL,EAAe,WAAaV,EAAW,MAAM,EAC/C,QAASe,EAAI,EAAGA,EAAID,EAAYC,IAC9BL,EAAe,WAAaV,EAAW,OAAO,EAGhD,MAAMgB,EAAa,SAAS,eAAe,mBAAmB,EAC1DA,GAAcX,IAChBW,EAAW,QAAU,IAAM,CACzB,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAY,sBACpBA,EAAQ,UAAY;AAAA;AAAA,yDAE6BZ,EAAQ,GAAG;AAAA,kBAE5D,SAAS,KAAK,YAAYY,CAAO,EACjCA,EAAQ,QAAU,IAAMA,EAAQ,OAAM,CAC9C,GAGI,SAAS,eAAe,kBAAkB,EAAE,QAAU,IAAM,CACtD,OAAO,uBAA0B,YACnC,sBAAsBb,CAAK,CACnC,CACG,OAAQc,EAAK,CACZ,QAAQ,MAAM,oBAAqBA,CAAG,EACtC,SAAS,eAAe,cAAc,EAAE,MAAM,QAAU,QACxD,SAAS,eAAe,mBAAmB,EAAE,MAAM,QAAU,MAC9D,CACH,CAEA,SAAS,iBAAiB,mBAAoBnB,CAAmB"}